(window.webpackJsonp=window.webpackJsonp||[]).push([[47,12,16],{525:function(t,e,r){var content=r(538);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("cdc2c944",content,!0,{sourceMap:!1})},528:function(t,e,r){var content=r(529);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("b1bed018",content,!0,{sourceMap:!1})},529:function(t,e,r){var n=r(15)(!1);n.push([t.i,".theme--light.v-breadcrumbs .v-breadcrumbs__divider,.theme--light.v-breadcrumbs .v-breadcrumbs__item--disabled{color:rgba(0,0,0,.38)}.theme--dark.v-breadcrumbs .v-breadcrumbs__divider,.theme--dark.v-breadcrumbs .v-breadcrumbs__item--disabled{color:hsla(0,0%,100%,.5)}.v-breadcrumbs{align-items:center;display:flex;flex-wrap:wrap;flex:0 1 auto;list-style-type:none;margin:0;padding:18px 12px}.v-breadcrumbs li{align-items:center;display:inline-flex;font-size:14px}.v-breadcrumbs li .v-icon{font-size:16px}.v-breadcrumbs li:nth-child(2n){padding:0 12px}.v-breadcrumbs__item{align-items:center;display:inline-flex;text-decoration:none;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-breadcrumbs__item--disabled{pointer-events:none}.v-breadcrumbs--large li,.v-breadcrumbs--large li .v-icon{font-size:16px}",""]),t.exports=n},530:function(t,e,r){var content=r(545);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("0dca5f8e",content,!0,{sourceMap:!1})},537:function(t,e,r){"use strict";r(525)},538:function(t,e,r){var n=r(15)(!1);n.push([t.i,".horizontal-list{overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch;padding-left:0!important;padding-right:0}.item{display:inline-block;margin-right:16px;margin-left:16px}",""]),t.exports=n},539:function(t,e,r){"use strict";r.r(e);r(225);var n=r(21),l=r(40),o=r(37),c=r(26),d=r(12),h=r(106),v=r(557);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(c.a)(t);if(e){var l=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var f=function(t,e,r,desc){var n,l=arguments.length,o=l<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(o=(l<3?n(o):l>3?n(e,r,o):n(e,r))||o);return l>3&&o&&Object.defineProperty(e,r,o),o},_=function(t){Object(l.a)(r,t);var e=m(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return r}(h.Vue);f([Object(h.Prop)({default:240})],_.prototype,"width",void 0),f([Object(h.Prop)({default:300})],_.prototype,"height",void 0),f([Object(h.Prop)({default:[]})],_.prototype,"data",void 0);var y=_=f([Object(h.Component)({components:{CardItem:v.default}})],_),w=(r(537),r(87)),component=Object(w.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"horizontal-list"},t._l(t.data,(function(e,n){return r("li",{key:n,staticClass:"item"},[r("CardItem",{key:"value_"+n,staticClass:"mt-2 mb-4",attrs:{horizontal:!0,item:e,width:t.width,height:t.height}})],1)})),0)}),[],!1,null,null,null);e.default=component.exports},544:function(t,e,r){"use strict";r(530)},545:function(t,e,r){var n=r(15)(!1);n.push([t.i,'.leaflet-cluster-anim .leaflet-marker-icon,.leaflet-cluster-anim .leaflet-marker-shadow{transition:transform .3s ease-out,opacity .3s ease-in}.leaflet-cluster-spider-leg{transition:stroke-dashoffset .3s ease-out,stroke-opacity .3s ease-in}.marker-cluster-small{background-color:rgba(181,226,140,.6)}.marker-cluster-small div{background-color:rgba(110,204,57,.6)}.marker-cluster-medium{background-color:rgba(241,211,87,.6)}.marker-cluster-medium div{background-color:rgba(240,194,12,.6)}.marker-cluster-large{background-color:rgba(253,156,115,.6)}.marker-cluster-large div{background-color:rgba(241,128,23,.6)}.leaflet-oldie .marker-cluster-small{background-color:#b5e28c}.leaflet-oldie .marker-cluster-small div{background-color:#6ecc39}.leaflet-oldie .marker-cluster-medium{background-color:#f1d357}.leaflet-oldie .marker-cluster-medium div{background-color:#f0c20c}.leaflet-oldie .marker-cluster-large{background-color:#fd9c73}.leaflet-oldie .marker-cluster-large div{background-color:#f18017}.marker-cluster{background-clip:padding-box;border-radius:20px}.marker-cluster div{width:30px;height:30px;margin-left:5px;margin-top:5px;text-align:center;border-radius:15px;font:12px "Helvetica Neue",Arial,Helvetica,sans-serif}.marker-cluster span{line-height:30px}',""]),t.exports=n},555:function(t,e,r){"use strict";r.r(e);r(225);var n=r(21),l=r(40),o=r(37),c=r(26),d=r(12),h=r(106);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(c.a)(t);if(e){var l=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var m=function(t,e,r,desc){var n,l=arguments.length,o=l<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(o=(l<3?n(o):l>3?n(e,r,o):n(e,r))||o);return l>3&&o&&Object.defineProperty(e,r,o),o},f={};f=r(571);var _=function(t){Object(l.a)(r,t);var e=v(r);function r(){var t;return Object(n.a)(this,r),(t=e.apply(this,arguments)).tileProviders=[{name:"OpenStreetMap",visible:!0,attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},{name:"OpenTopoMap",visible:!1,url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:'Map data: &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}],t}return r}(h.Vue);m([Object(h.Prop)()],_.prototype,"markers",void 0),m([Object(h.Prop)({default:1})],_.prototype,"zoom",void 0),m([Object(h.Prop)({default:function(){return[38,0]}})],_.prototype,"center",void 0);var y=_=m([Object(h.Component)({components:{"l-marker-cluster":f}})],_),w=(r(544),r(87)),x=r(107),k=r.n(x),O=r(180),component=Object(w.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("client-only",[r("l-map",{staticStyle:{"z-index":"0"},attrs:{zoom:t.zoom,center:t.center}},[r("l-control-layers",{attrs:{position:"topright"}}),t._v(" "),t._l(t.tileProviders,(function(t){return r("l-tile-layer",{key:t.name,attrs:{name:t.name,visible:t.visible,url:t.url,attribution:t.attribution,"layer-type":"base"}})})),t._v(" "),r("l-marker-cluster",t._l(t.markers,(function(marker,e){return r("l-marker",{key:e,attrs:{"lat-lng":marker.latlng}},[r("l-popup",[r("nuxt-link",{attrs:{to:t.localePath(marker.path)}},[t._v(t._s(marker.content))]),t._v(" "),marker.image?[r("v-img",{staticClass:"ma-2",attrs:{"max-height":"150px","min-height":"90px",src:marker.image,contain:""}})]:t._e()],2)],1)})),1)],2)],1)}),[],!1,null,null,null);e.default=component.exports;k()(component,{VImg:O.a})},567:function(t,e,r){"use strict";r(72);var n=r(4),l=(r(528),r(75)),o=r(7);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=Object(o.a)(l.a).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(n.a)({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(t){var e=this.generateRouteLink(),r=e.tag,data=e.data;return t("li",[t(r,d(d({},data),{},{attrs:d(d({},data.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),v=r(2),m=Object(v.h)("v-breadcrumbs__divider","li"),f=r(18);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}e.a=Object(o.a)(f.a).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(m,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var t=[],e=!!this.$scopedSlots.item,r=[],i=0;i<this.items.length;i++){var n=this.items[i];r.push(n.text),e?t.push(this.$scopedSlots.item({item:n})):t.push(this.$createElement(h,{key:r.join("."),props:n},[n.text])),i<this.items.length-1&&t.push(this.genDivider())}return t}},render:function(t){var e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}})},576:function(t,e,r){var content=r(577);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("7c06aa28",content,!0,{sourceMap:!1})},577:function(t,e,r){var n=r(15)(!1);n.push([t.i,".theme--light.v-data-table{background-color:#fff;color:rgba(0,0,0,.87)}.theme--light.v-data-table .v-data-table__divider{border-right:thin solid rgba(0,0,0,.12)}.theme--light.v-data-table.v-data-table--fixed-header thead th{background:#fff;box-shadow:inset 0 -1px 0 rgba(0,0,0,.12)}.theme--light.v-data-table>.v-data-table__wrapper>table>thead>tr>th{color:rgba(0,0,0,.6)}.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>td:last-child,.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>td:not(.v-data-table__mobile-row),.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>th:last-child,.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>th:not(.v-data-table__mobile-row),.theme--light.v-data-table>.v-data-table__wrapper>table>thead>tr:last-child>th{border-bottom:thin solid rgba(0,0,0,.12)}.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr.active{background:#f5f5f5}.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper){background:#eee}.theme--dark.v-data-table{background-color:#1e1e1e;color:#fff}.theme--dark.v-data-table .v-data-table__divider{border-right:thin solid hsla(0,0%,100%,.12)}.theme--dark.v-data-table.v-data-table--fixed-header thead th{background:#1e1e1e;box-shadow:inset 0 -1px 0 hsla(0,0%,100%,.12)}.theme--dark.v-data-table>.v-data-table__wrapper>table>thead>tr>th{color:hsla(0,0%,100%,.7)}.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>td:last-child,.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>td:not(.v-data-table__mobile-row),.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>th:last-child,.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>th:not(.v-data-table__mobile-row),.theme--dark.v-data-table>.v-data-table__wrapper>table>thead>tr:last-child>th{border-bottom:thin solid hsla(0,0%,100%,.12)}.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr.active{background:#505050}.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper){background:#616161}.v-data-table{line-height:1.5;max-width:100%}.v-data-table>.v-data-table__wrapper>table{width:100%;border-spacing:0}.v-data-table>.v-data-table__wrapper>table>tbody>tr>td,.v-data-table>.v-data-table__wrapper>table>tbody>tr>th,.v-data-table>.v-data-table__wrapper>table>tfoot>tr>td,.v-data-table>.v-data-table__wrapper>table>tfoot>tr>th,.v-data-table>.v-data-table__wrapper>table>thead>tr>td,.v-data-table>.v-data-table__wrapper>table>thead>tr>th{padding:0 16px;transition:height .2s cubic-bezier(.4,0,.6,1)}.v-data-table>.v-data-table__wrapper>table>tbody>tr>th,.v-data-table>.v-data-table__wrapper>table>tfoot>tr>th,.v-data-table>.v-data-table__wrapper>table>thead>tr>th{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:.75rem;height:48px}.v-application--is-ltr .v-data-table>.v-data-table__wrapper>table>tbody>tr>th,.v-application--is-ltr .v-data-table>.v-data-table__wrapper>table>tfoot>tr>th,.v-application--is-ltr .v-data-table>.v-data-table__wrapper>table>thead>tr>th{text-align:left}.v-application--is-rtl .v-data-table>.v-data-table__wrapper>table>tbody>tr>th,.v-application--is-rtl .v-data-table>.v-data-table__wrapper>table>tfoot>tr>th,.v-application--is-rtl .v-data-table>.v-data-table__wrapper>table>thead>tr>th{text-align:right}.v-data-table>.v-data-table__wrapper>table>tbody>tr>td,.v-data-table>.v-data-table__wrapper>table>tfoot>tr>td,.v-data-table>.v-data-table__wrapper>table>thead>tr>td{font-size:.875rem;height:48px}.v-data-table__wrapper{overflow-x:auto;overflow-y:hidden}.v-data-table__progress{height:auto!important}.v-data-table__progress th{height:auto!important;border:none!important;padding:0;position:relative}.v-data-table--dense>.v-data-table__wrapper>table>tbody>tr>td,.v-data-table--dense>.v-data-table__wrapper>table>tbody>tr>th,.v-data-table--dense>.v-data-table__wrapper>table>tfoot>tr>td,.v-data-table--dense>.v-data-table__wrapper>table>tfoot>tr>th,.v-data-table--dense>.v-data-table__wrapper>table>thead>tr>td,.v-data-table--dense>.v-data-table__wrapper>table>thead>tr>th{height:32px}.v-data-table--has-top>.v-data-table__wrapper>table>tbody>tr:first-child:hover>td:first-child{border-top-left-radius:0}.v-data-table--has-top>.v-data-table__wrapper>table>tbody>tr:first-child:hover>td:last-child{border-top-right-radius:0}.v-data-table--has-bottom>.v-data-table__wrapper>table>tbody>tr:last-child:hover>td:first-child{border-bottom-left-radius:0}.v-data-table--has-bottom>.v-data-table__wrapper>table>tbody>tr:last-child:hover>td:last-child{border-bottom-right-radius:0}.v-data-table--fixed-header>.v-data-table__wrapper,.v-data-table--fixed-height .v-data-table__wrapper{overflow-y:auto}.v-data-table--fixed-header>.v-data-table__wrapper>table>thead>tr>th{border-bottom:0!important;position:-webkit-sticky;position:sticky;top:0;z-index:2}.v-data-table--fixed-header>.v-data-table__wrapper>table>thead>tr:nth-child(2)>th{top:48px}.v-application--is-ltr .v-data-table--fixed-header .v-data-footer{margin-right:17px}.v-application--is-rtl .v-data-table--fixed-header .v-data-footer{margin-left:17px}.v-data-table--fixed-header.v-data-table--dense>.v-data-table__wrapper>table>thead>tr:nth-child(2)>th{top:32px}",""]),t.exports=n},581:function(t,e,r){"use strict";r(17);var n=r(4),l=(r(576),r(2)),o=r(18),c=r(7);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}e.a=Object(c.a)(o.a).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(l.g)(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},632:function(t,e,r){"use strict";r.r(e);r(233),r(234),r(72),r(33),r(56),r(54);var n=r(14),l=r(82),o=r.n(l),c=r(539),d=r(515),h=r(555),v={components:{HorizontalItems:c.default,ResultOption:d.default,Mapc:h.default},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,l,c,d,h,v,data,source;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.payload,n=t.app,!r){e.next=5;break}return e.abrupt("return",r);case 5:return l=n.context.route.params.id,c="https://gimli-eu-west-1.searchly.com/main/_doc/"+l,d="search",h="1ff162746e60feac7c91c12d37cf0ca6",e.next=11,o.a.get(c,{auth:{username:d,password:h}});case 11:return v=e.sent,data=v.data,(source=data._source).manifest&&(source.manifest=source.manifest[0]),source.member&&(source.member=source.member[0]),source._url&&(source._url=source._url[0]),source.id=v._id,source.sourceData="https://"+d+":"+h+"@"+c.split("://")[1],e.abrupt("return",{source:source});case 20:case"end":return e.stop()}}),e)})))()},data:function(){return{baseUrl:"https://hi-ut.github.io/ds",prefix:"https://w3id.org/hi",endpoint:"https://diyhistory.org/c.php/http://3.212.248.73:8890/sparql",github:"https://w3id.org/hi",userUids:[],entity:{agential:[],spatial:[],about:[]},settings:{agential:{type:"type:Agent",query:"fc-agentials",label:"人物",slug:"entity/chname",mdi:"mdi-account"},spatial:{type:"type:Place",query:"fc-places",label:"場所",mdi:"mdi-map",slug:"entity/place"},about:{type:"type:Keyword",query:"fc-about",label:"キーワード",mdi:"mdi-tag",slug:"term/keyword"}},markers:[],center:null}},computed:{url:function(){return this.source._url},id:function(){return this.$route.params.id},title:function(){return this.source._label},breadcrumbs:function(){return[{text:this.$t("HOME"),disabled:!1,to:this.localePath({name:"index"}),exact:!0},{text:this.$t("search"),disabled:!1,to:this.localePath({name:"search"}),exact:!0},{text:this.title}]}},created:function(){this.getEntity("agential"),this.getEntity("spatial"),this.getEntity("about"),this.getMarker()},methods:{getEntity:function(){var t=arguments,e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,source,l,c,d,h,i,image,v,m,f,filter,_,y,w,x,map,k,O,j,C,P,R,$,S;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.length>0&&void 0!==t[0]?t[0]:"spatial",source=e.source,l=e.settings[n],source[n]){r.next=5;break}return r.abrupt("return");case 5:for(c=source[n],d=[],h=[],i=0;i<c.length;i++)image=["spatial"===n?"mdi-map":"mdi-account"],v=c[i],m=e.localePath({name:"entity-entity-id",params:{entity:n,id:v}}),d.push({_id:"abc",_source:{_label:[v],_thumbnail:image,_url:[e.baseUrl+m]},to:m}),f=e.github+"/api/"+l.slug+"/"+v,h.push("?s = <".concat(f,">"));if(e.entity[n]=d,0!==h.length){r.next=12;break}return r.abrupt("return");case 12:return filter=h.join(" || "),_="\n      PREFIX schema: <http://schema.org/>\n      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n      SELECT DISTINCT * WHERE {\n        ?s rdfs:label ?label .\n        filter (".concat(filter,")\n        optional { ?s schema:description ?description }\n        optional { ?s schema:image ?image }\n      }\n      "),y=(y=e.endpoint+"?query=")+encodeURIComponent(_)+"&output=json",r.next=18,o.a.get(y);case 18:for(w=r.sent,x=w.data.results.bindings,map={},k=0;k<x.length;k++)O=x[k],map[O.s.value]=O;j=0;case 23:if(!(j<c.length)){r.next=38;break}if(C=d[j]){r.next=27;break}return r.abrupt("continue",35);case 27:if(P=c[j],R=e.github+"/api/"+l.slug+"/"+P,map[R]){r.next=31;break}return r.abrupt("continue",35);case 31:$=map[R],S=$.image?[$.image.value]:[l.mdi],$.description&&(C._source.description=[$.description.value]),C._source._thumbnail=S;case 35:j++,r.next=23;break;case 38:e.entity[n]=d;case 39:case"end":return r.stop()}}),r)})))()},getMarker:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var source,r,n,l,c,i,d,h,filter,v,m,f,_,y,w,x,k,O,label,marker;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(source=t.source,r="spatial",n=t.settings[r],source[r]){e.next=5;break}return e.abrupt("return");case 5:for(l=source[r],c=[],i=0;i<l.length;i++)d=l[i],h=t.github+"/api/"+n.slug+"/"+d,c.push("?spatial = <".concat(h,">"));if(0!==c.length){e.next=10;break}return e.abrupt("return");case 10:return filter=c.join(" || "),v="\n      PREFIX schema: <http://schema.org/>\n      PREFIX jps: <https://jpsearch.go.jp/term/property#>\n      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n      SELECT DISTINCT ?spatial ?lat ?long ?label WHERE {\n        ?cho jps:sourceInfo ?source; schema:spatial ?spatial . \n        filter (".concat(filter,")\n        ?spatial rdfs:label ?label; schema:geo ?geo .\n        ?geo schema:latitude ?lat; schema:longitude ?long .\n      }\n      "),m=(m=t.endpoint+"?query=")+encodeURIComponent(v)+"&output=json",e.next=16,o.a.get(m);case 16:for(f=e.sent,_=f.data.results.bindings,y=[],w=0,x=0,k=0;k<_.length;k++)O=_[k],label=O.label.value,"fc-spatial",{}["fc-spatial"]=label,marker={latlng:[O.lat.value,O.long.value],content:label,path:{name:"entity-entity-id",params:{entity:"spatial",id:label}}},w+=O.lat.value,x+=O.long.value,y.push(marker);t.center=[w/_.length,x/_.length],t.markers=y;case 24:case"end":return e.stop()}}),e)})))()},getIframeUrl:function(){var t=this.source.manifest;if(this.source.member){var e=this.source.member;return this.baseUrl+"/curation/?manifest="+t+"&canvas="+encodeURIComponent(e)}return"https://universalviewer.io/examples/uv/uv.html#?manifest="+t},getQuery:function(t,e){var map={};return map["fc-".concat(t)]=e,map},getCurationUrl:function(){var t=this.source.manifest;if(this.source.member){var e=this.source.member.split("#xywh="),r=e[0],n=e[1];return"http://codh.rois.ac.jp/software/iiif-curation-viewer/demo/?manifest="+t+"&canvas="+encodeURIComponent(r)+"&xywh="+n+"&xywh_highlight=border"}return"http://codh.rois.ac.jp/software/iiif-curation-viewer/demo/?manifest="+t}},head:function(){var title=this.title;return{title:title,meta:[{hid:"og:title",property:"og:title",content:title},{hid:"og:type",property:"og:type",content:"article"},{hid:"og:url",property:"og:url",content:this.url},{hid:"og:image",property:"og:image",content:this.thumbnail},{hid:"twitter:card",name:"twitter:card",content:"summary_large_image"}]}}},m=r(87),f=r(107),_=r.n(f),y=r(567),w=r(235),x=r(502),k=r(211),O=r(59),j=r(581),C=r(521),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-sheet",{attrs:{color:"grey lighten-2"}},[r("v-container",{staticClass:"py-4",attrs:{fluid:""}},[r("v-breadcrumbs",{staticClass:"py-0",attrs:{items:t.breadcrumbs},scopedSlots:t._u([{key:"divider",fn:function(){return[r("v-icon",[t._v("mdi-chevron-right")])]},proxy:!0}])})],1)],1),t._v(" "),r("iframe",{attrs:{src:t.getIframeUrl(),width:"100%",height:"400",allowfullscreen:"",frameborder:"0"}}),t._v(" "),r("v-container",{staticClass:"mt-5"},[r("p",{staticClass:"text-center"},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"mx-2",attrs:{icon:"",target:"_blank",href:t.getCurationUrl()}},n),[r("img",{attrs:{src:t.baseUrl+"/img/icons/icp-logo.svg",width:"30px"}})])]}}])},[t._v(" "),r("span",[t._v(t._s("IIIF Curation Viewer"))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"mx-2",attrs:{icon:"",target:"_blank",href:t.baseUrl+"/snorql/?describe="+t.prefix+"/api/data/"+t.id}},n),[r("img",{attrs:{src:t.baseUrl+"/img/icons/rdf-logo.svg",width:"30px"}})])]}}])},[t._v(" "),r("span",[t._v(t._s("RDF"))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"mx-2",attrs:{icon:"",target:"_blank",href:t.source.sourceData}},n),[r("img",{attrs:{src:t.baseUrl+"/img/icons/json-logo.svg",width:"30px"}})])]}}])},[t._v(" "),r("span",[t._v(t._s("JSON"))])]),t._v(" "),r("ResultOption",{attrs:{item:{label:t.title,url:t.url}}})],1),t._v(" "),r("v-simple-table",{staticClass:"mt-10",scopedSlots:t._u([{key:"default",fn:function(){return[r("tbody",[r("tr",[r("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("URL")))]),t._v(" "),r("td",{staticClass:"py-5",staticStyle:{"overflow-wrap":"break-word"}},[r("a",{attrs:{href:t.url}},[t._v(t._s(t.url))])])]),t._v(" "),r("tr",[r("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("label")))]),t._v(" "),r("td",{staticClass:"py-5"},[t._v("\n              "+t._s(t.$utils.formatArrayValue(t.title))+"\n            ")])]),t._v(" "),r("tr",[r("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("description")))]),t._v(" "),r("td",{staticClass:"py-5",domProps:{innerHTML:t._s(t.$utils.formatArrayValue(t.source.description,"<br />"))}})]),t._v(" "),t._l(["type","agential","spatial","temporal","about","source"],(function(e,n){return[t.source[e]?r("tr",{key:n},[r("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t(e)))]),t._v(" "),r("td",{staticClass:"py-5"},t._l(t.source[e],(function(n,l){return r("nuxt-link",{key:l,staticClass:"mr-2",attrs:{to:t.localePath({name:"search",query:t.getQuery(e,n)})}},[t._v(t._s(n))])})),1)]):t._e()]}))],2)]},proxy:!0}])})],1),t._v(" "),r("v-container",{attrs:{fluid:""}},[t.entity.agential.length>0?r("div",{staticClass:"mt-10"},[r("div",{staticClass:"text-center"},[r("h3",{staticClass:"my-5"},[t._v(t._s(t.$t("人物")))])]),t._v(" "),r("HorizontalItems",{attrs:{data:t.entity.agential,title:t.$t("agential"),height:"200"}})],1):t._e(),t._v(" "),t.entity.about.length>0?r("div",{staticClass:"mt-10"},[r("div",{staticClass:"text-center"},[r("h3",{staticClass:"my-5"},[t._v(t._s(t.$t("キーワード")))])]),t._v(" "),r("HorizontalItems",{attrs:{data:t.entity.about,title:t.$t("agential"),height:"200"}})],1):t._e(),t._v(" "),t.entity.spatial.length>0?r("div",{staticClass:"mt-10"},[r("div",{staticClass:"text-center"},[r("h3",{staticClass:"my-5"},[t._v(t._s(t.$t("spatial")))])]),t._v(" "),r("HorizontalItems",{attrs:{data:t.entity.spatial,title:t.$t("spatial"),height:"200"}}),t._v(" "),t.center?r("v-container",[r("div",{staticClass:"my-2",staticStyle:{height:"40vh"},attrs:{id:"map-wrap"}},[r("mapc",{attrs:{markers:t.markers,zoom:2,center:t.center}})],1)]):t._e()],1):t._e()]),t._v(" "),r("v-sheet",{staticClass:"text-center pa-10 mt-10"},[r("small",[r("h3",{staticClass:"mb-5"},[t._v(t._s(t.$t("license")))]),t._v(" "),"ja"==t.$i18n.locale?[r("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[r("img",{staticStyle:{"border-width":"0"},attrs:{alt:"クリエイティブ・コモンズ・ライセンス",src:"https://i.creativecommons.org/l/by/4.0/88x31.png"}})]),r("br"),t._v("この作品は"),r("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[t._v("クリエイティブ・コモンズ 表示 4.0 国際 ライセンス")]),t._v("の下に提供されています。\n      ")]:[r("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[r("img",{staticStyle:{"border-width":"0"},attrs:{alt:"Creative Commons License",src:"https://i.creativecommons.org/l/by/4.0/88x31.png"}})]),r("br"),t._v("This work is licensed under a\n        "),r("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[t._v("Creative Commons Attribution 4.0 International License")]),t._v(".\n      ")]],2)])],1)}),[],!1,null,null,null);e.default=component.exports;_()(component,{VBreadcrumbs:y.a,VBtn:w.a,VContainer:x.a,VIcon:k.a,VSheet:O.a,VSimpleTable:j.a,VTooltip:C.a})}}]);