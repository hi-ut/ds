(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{465:function(t,e,r){"use strict";r.r(e);r(229);var n=r(19),o=r(32),c=r(36),l=r(33),d=r(23),f=r(11),h=r(105),v=r(475);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var _=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},y=function(t){Object(c.a)(r,t);var e=m(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"title",get:function(){return this.item.label}},{key:"url",get:function(){return this.item.url}}]),r}(h.Vue);_([Object(h.Prop)()],y.prototype,"item",void 0);var x=y=_([Object(h.Component)({components:{ShareButtons:v.default}})],y),k=r(82),w=r(95),O=r.n(w),j=r(236),C=r(216),R=r(445),component=Object(k.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",[r("v-menu",{attrs:{top:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{depressed:"",icon:""}},n),[r("v-icon",[t._v("mdi-share-variant")])],1)]}}])},[t._v(" "),r("ShareButtons",{attrs:{url:t.url,title:t.title}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;O()(component,{ShareButtons:r(475).default}),O()(component,{VBtn:j.a,VIcon:C.a,VMenu:R.a})},470:function(t,e,r){var content=r(471);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("7132a15d",content,!0,{sourceMap:!1})},471:function(t,e,r){(e=r(14)(!1)).push([t.i,".theme--light.v-divider{border-color:rgba(0,0,0,.12)}.theme--dark.v-divider{border-color:hsla(0,0%,100%,.12)}.v-divider{display:block;flex:1 1 0px;max-width:100%;height:0;max-height:0;border:solid;border-width:thin 0 0;transition:inherit}.v-divider--inset:not(.v-divider--vertical){max-width:calc(100% - 72px)}.v-application--is-ltr .v-divider--inset:not(.v-divider--vertical){margin-left:72px}.v-application--is-rtl .v-divider--inset:not(.v-divider--vertical){margin-right:72px}.v-divider--vertical{align-self:stretch;border:solid;border-width:0 thin 0 0;display:inline-flex;height:inherit;min-height:100%;max-height:100%;max-width:0;width:0;vertical-align:text-bottom}.v-divider--vertical.v-divider--inset{margin-top:8px;min-height:0;max-height:calc(100% - 16px)}",""]),t.exports=e},472:function(t,e,r){var content=r(473);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("dc0628f2",content,!0,{sourceMap:!1})},473:function(t,e,r){(e=r(14)(!1)).push([t.i,".v-tooltip{display:none}.v-tooltip--attached{display:inline}.v-tooltip__content{background:rgba(97,97,97,.9);color:#fff;border-radius:4px;font-size:14px;line-height:22px;display:inline-block;padding:5px 16px;position:absolute;text-transform:none;width:auto;opacity:1;pointer-events:none}.v-tooltip__content--fixed{position:fixed}.v-tooltip__content[class*=-active]{transition-timing-function:cubic-bezier(0,0,.2,1)}.v-tooltip__content[class*=enter-active]{transition-duration:.15s}.v-tooltip__content[class*=leave-active]{transition-duration:75ms}",""]),t.exports=e},474:function(t,e,r){var content=r(483);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("e6022664",content,!0,{sourceMap:!1})},475:function(t,e,r){"use strict";r.r(e);r(229);var n=r(19),o=r(32),c=r(36),l=r(33),d=r(23),f=r(11),h=r(105);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var m=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},_=function(t){Object(c.a)(r,t);var e=v(r);function r(){var t;return Object(n.a)(this,r),(t=e.apply(this,arguments)).baseUrl="https://hi-ut.github.io/ds",t}return Object(o.a)(r,[{key:"copyLink",value:function(){var t=this.url;document.addEventListener("copy",(function e(r){r.clipboardData.setData("text/plain",t),r.preventDefault(),document.removeEventListener("copy",e)})),document.execCommand("copy")}},{key:"twitterUrl",get:function(){return"https://twitter.com/intent/tweet?url="+this.url+"&text="+this.title}},{key:"facebookUrl",get:function(){return"https://www.facebook.com/sharer/sharer.php?u="+this.url}},{key:"pocketUrl",get:function(){return"http://getpocket.com/edit?url="+this.url}}]),r}(h.Vue);m([Object(h.Prop)({required:!0})],_.prototype,"url",void 0),m([Object(h.Prop)({required:!0})],_.prototype,"title",void 0);var y=_=m([h.Component],_),x=r(82),k=r(95),w=r.n(k),O=r(236),j=r(219),C=r(216),R=r(490),component=Object(x.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{flat:""}},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"ma-2",attrs:{icon:""},on:{click:function(e){return t.copyLink()}}},n),[r("v-icon",[t._v("mdi-link")])],1)]}}])},[t._v(" "),r("span",[t._v(t._s("Copy this link."))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"ma-2",attrs:{icon:"",target:"_blank",href:t.twitterUrl}},n),[r("v-icon",[t._v("mdi-twitter")])],1)]}}])},[t._v(" "),r("span",[t._v(t._s("Twitter"))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"ma-2",attrs:{icon:"",target:"_blank",href:t.facebookUrl}},n),[r("v-icon",[t._v("mdi-facebook")])],1)]}}])},[t._v(" "),r("span",[t._v(t._s("Facebook"))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"ma-2",attrs:{icon:"",target:"_blank",href:t.pocketUrl}},n),[r("img",{staticStyle:{"font-size":"24px"},attrs:{src:t.baseUrl+"/img/icons/pocket.svg"}})])]}}])},[t._v(" "),r("span",[t._v(t._s("Pocket"))])])],1)}),[],!1,null,null,null);e.default=component.exports;w()(component,{VBtn:O.a,VCard:j.a,VIcon:C.a,VTooltip:R.a})},476:function(t,e,r){"use strict";r.r(e);r(229);var n=r(19),o=r(36),c=r(33),l=r(23),d=r(11),f=r(105),h=r(465);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(l.a)(t);if(e){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var m=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},_=function(t){Object(o.a)(r,t);var e=v(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return r}(f.Vue);m([Object(f.Prop)({required:!0})],_.prototype,"item",void 0),m([Object(f.Prop)({default:240})],_.prototype,"width",void 0),m([Object(f.Prop)({default:300})],_.prototype,"height",void 0),m([Object(f.Prop)({default:!1})],_.prototype,"horizontal",void 0);var y=_=m([Object(f.Component)({components:{ResultOption:h.default}})],_),x=(r(482),r(82)),k=r(95),w=r.n(k),O=r(219),j=r(120),C=r(477),R=r(181),P=r(462),component=Object(x.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{class:t.horizontal?"":"mb-4",style:t.horizontal?"width: "+t.width+"px;":"",attrs:{"no-body":""}},[r("nuxt-link",{attrs:{to:t.localePath({name:"item-id",params:{id:t.item._id}})}},[r("v-img",{staticClass:"grey lighten-2",staticStyle:{height:"150px"},attrs:{src:t.$utils.formatArrayValue(t.item._source._thumbnail),contain:"",width:"100%"}})],1),t._v(" "),r("div",{staticClass:"pa-4",style:t.horizontal?"width: "+t.width+"px; height: 150px; overflow-y: auto;":""},[r("nuxt-link",{staticClass:"mr-2",attrs:{to:t.localePath({name:"item-id",params:{id:t.item._id}})}},[r("b",{domProps:{innerHTML:t._s(t.$utils.formatArrayValue(t.item._source._label))}})]),t._v(" "),t.item.access?[r("div",{staticClass:"mt-2"},[t._v("\n        "+t._s(t.$utils.truncate(t.item.access,50))+"\n      ")])]:t._e()],2),t._v(" "),t.item.share_hide?t._e():[r("v-divider"),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("ResultOption",{attrs:{item:{label:t.$utils.formatArrayValue(t.item._source._label),url:t.$utils.formatArrayValue(t.item._source._url)}}})],1)]],2)}),[],!1,null,null,null);e.default=component.exports;w()(component,{ResultOption:r(465).default}),w()(component,{VCard:O.a,VCardActions:j.a,VDivider:C.a,VImg:R.a,VSpacer:P.a})},477:function(t,e,r){"use strict";var n=r(4),o=(r(470),r(17));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=o.a.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(t){var e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:l({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:l({role:"separator","aria-orientation":e},this.$attrs),on:this.$listeners})}})},478:function(t,e,r){"use strict";r.r(e);r(229);var n=r(19),o=r(36),c=r(33),l=r(23),d=r(11),f=r(105),h=r(476);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(l.a)(t);if(e){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var m=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},_=function(t){Object(o.a)(r,t);var e=v(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return r}(f.Vue);m([Object(f.Prop)({default:240})],_.prototype,"width",void 0),m([Object(f.Prop)({default:300})],_.prototype,"height",void 0),m([Object(f.Prop)({default:[]})],_.prototype,"data",void 0);var y=_=m([Object(f.Component)({components:{CardItem:h.default}})],_),x=(r(543),r(82)),component=Object(x.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"horizontal-list"},t._l(t.data,(function(e,n){return r("li",{key:n,staticClass:"item"},[r("CardItem",{key:"value_"+n,staticClass:"mt-2 mb-4",attrs:{horizontal:!0,item:e,width:t.width,height:t.height}})],1)})),0)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CardItem:r(476).default})},482:function(t,e,r){"use strict";r(474)},483:function(t,e,r){(e=r(14)(!1)).push([t.i,"a{text-decoration:none}",""]),t.exports=e},490:function(t,e,r){"use strict";r(16);var n=r(4),o=(r(472),r(102)),c=r(27),l=r(149),d=r(106),f=r(150),h=r(188),v=r(43),m=r(2),_=r(9),y=r(7);e.a=Object(y.a)(c.a,l.a,d.a,f.a,h.a,v.a).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,content=t.content,r=!(this.bottom||this.left||this.top||this.right),n=!1!==this.attach?e.offsetLeft:e.left,o=0;return this.top||this.bottom||r?o=n+e.width/2-content.width/2:(this.left||this.right)&&(o=n+(this.right?e.width:-content.width)+(this.right?10:-10)),this.nudgeLeft&&(o-=parseInt(this.nudgeLeft)),this.nudgeRight&&(o+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(o,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,content=t.content,r=!1!==this.attach?e.offsetTop:e.top,n=0;return this.top||this.bottom?n=r+(this.bottom?e.height:-content.height)+(this.bottom?10:-10):(this.left||this.right)&&(n=r+e.height/2-content.height/2),this.nudgeTop&&(n-=parseInt(this.nudgeTop)),this.nudgeBottom&&(n+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(n+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(m.g)(this.maxWidth),minWidth:Object(m.g)(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(m.s)(this,"activator",!0)&&Object(_.b)("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=o.a.options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===m.w.esc&&(t.getActivator(e),t.runDelay("close"))},e},genActivatorAttributes:function(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition:function(){var content=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[content]):content},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(n.a)(t,this.contentClass,!0),Object(n.a)(t,"menuable__content__active",this.isActive),Object(n.a)(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}})},491:function(t,e,r){var content=r(544);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("cdc2c944",content,!0,{sourceMap:!1})},543:function(t,e,r){"use strict";r(491)},544:function(t,e,r){(e=r(14)(!1)).push([t.i,".horizontal-list{overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch;padding-left:0!important;padding-right:0}.item{display:inline-block;margin-right:16px;margin-left:16px}",""]),t.exports=e},545:function(t,e,r){"use strict";r.r(e);r(229),r(50);var n=r(13),o=r(19),c=r(32),l=r(36),d=r(33),f=r(23),h=r(11),v=r(105),m=r(79),_=r.n(m),y=r(478);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var k=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},w=function(t){Object(l.a)(d,t);var e,r=x(d);function d(){var t;return Object(o.a)(this,d),(t=r.apply(this,arguments)).moreLikeThisData=[],t}return Object(c.a)(d,[{key:"mounted",value:function(){this.moreLikeThis()}},{key:"watchId",value:function(){this.moreLikeThis()}},{key:"moreLikeThis",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(){var e,r,n,o,map,i,c,l,d,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.query,r={query:{terms:{_id:e}}},t.next=5,_.a.post("https://gimli-eu-west-1.searchly.com/main/_search",r,{auth:{username:"search",password:"lqtia2ngm63yi5tam7ewxjvqhogjem82"}});case 5:for(n=t.sent,o=n.data.hits.hits,map={},i=0;i<o.length;i++)(c=o[i]).access=this.$utils.formatArrayValue(c._source.tags),map[c._id]=c;for(l=[],d=0;d<e.length;d++)f=e[d],map[f]&&l.push(map[f]);this.moreLikeThisData=l;case 12:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),d}(v.Vue);k([Object(v.Prop)({required:!0})],w.prototype,"itemId",void 0),k([Object(v.Prop)({required:!0})],w.prototype,"query",void 0),k([Object(v.Watch)("itemId")],w.prototype,"watchId",null);var O=w=k([Object(v.Component)({components:{HorizontalItems:y.default}})],w),j=r(82),component=Object(j.a)(O,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.moreLikeThisData.length>0?r("div",[r("h3",{staticClass:"mb-4"},[t._v("\n    "+t._s(t.$t("similar_images"))+"\n  ")]),t._v(" "),r("HorizontalItems",{key:t.itemId,attrs:{data:t.moreLikeThisData}})],1):t._e()}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{HorizontalItems:r(478).default})},546:function(t,e,r){"use strict";r.r(e);r(229),r(50);var n=r(13),o=r(19),c=r(32),l=r(36),d=r(33),f=r(23),h=r(11),v=r(105),m=r(79),_=r.n(m),y=r(478);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var k=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},w=function(t){Object(l.a)(d,t);var e,r=x(d);function d(){var t;return Object(o.a)(this,d),(t=r.apply(this,arguments)).moreLikeThisData=[],t}return Object(c.a)(d,[{key:"mounted",value:function(){this.moreLikeThis()}},{key:"watchId",value:function(){this.moreLikeThis()}},{key:"moreLikeThis",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(){var e,r,n,o,c,i,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.itemId,r={query:{more_like_this:{fields:["tags"],like:this.query,min_term_freq:0,min_doc_freq:0,max_query_terms:12}},size:21},t.next=5,_.a.post("https://gimli-eu-west-1.searchly.com/main/_search",r,{auth:{username:"search",password:"lqtia2ngm63yi5tam7ewxjvqhogjem82"}});case 5:if(n=t.sent,o=n.data.hits.hits,c=[],o.length>1)for(i=0;i<o.length;i++)(l=o[i])._id!==e&&(l.access=this.$utils.formatArrayValue(l._source.tags),c.push(l));this.moreLikeThisData=c;case 10:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),d}(v.Vue);k([Object(v.Prop)({required:!0})],w.prototype,"itemId",void 0),k([Object(v.Prop)({required:!0})],w.prototype,"query",void 0),k([Object(v.Watch)("itemId")],w.prototype,"watchId",null);var O=w=k([Object(v.Component)({components:{HorizontalItems:y.default}})],w),j=r(82),component=Object(j.a)(O,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.moreLikeThisData.length>0?r("div",[r("h3",{staticClass:"mb-4"},[t._v("\n    "+t._s(t.$t("more_like_this"))+"\n  ")]),t._v(" "),r("HorizontalItems",{key:t.itemId,attrs:{data:t.moreLikeThisData}})],1):t._e()}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{HorizontalItems:r(478).default})},565:function(t,e,r){"use strict";r.r(e);r(34),r(16),r(30),r(41),r(48),r(50);var n=r(13),o=r(79),c=r.n(o),l=r(103),d=l.a.firestore.FieldValue,f=l.a.firestore(),h={asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,l,d,f,h,data,source;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.payload,n=t.app,!r){e.next=5;break}return e.abrupt("return",r);case 5:return o=n.context.route.params.id,l="https://gimli-eu-west-1.searchly.com/main/_doc/"+o,d="search",f="lqtia2ngm63yi5tam7ewxjvqhogjem82",e.next=11,c.a.get(l,{auth:{username:d,password:f}});case 11:return h=e.sent,data=h.data,(source=data._source).manifest=source.manifest[0],source.member=source.member[0],source._url=source._url[0],source.id=h._id,source.sourceData="https://"+d+":"+f+"@"+l.split("://")[1],e.abrupt("return",{source:source});case 20:case"end":return e.stop()}}),e)})))()},data:function(){return{baseUrl:"https://hi-ut.github.io/ds",prefix:"https://kunshujo.web.app",userUids:[]}},computed:{url:function(){return this.source._url},id:function(){return this.$route.params.id},isSignedIn:function(){return this.$store.getters.getIsSignedIn},userUid:function(){return this.$store.getters.getUserUid},title:function(){return this.source._label},isOwn:function(){return this.userUids.includes(this.userUid)}},created:function(){var t=this;l.a.firestore().collection("items").doc(this.id).onSnapshot((function(e){var r=[];e.exists&&e.data().likedUsers&&(r=e.data().likedUsers),t.userUids=r}),(function(t){console.error("GET_REALTIME_LIST",t)}))},methods:{getIframeUrl:function(){var t=this.source.member,e=this.source.manifest;return this.baseUrl+"/curation/?manifest="+e+"&canvas="+encodeURIComponent(t)},getCurationUrl:function(){var t=this.source.member,e=this.source.manifest,r=t.split("#xywh="),n=r[0],o=r[1];return"http://codh.rois.ac.jp/software/iiif-curation-viewer/demo/?manifest="+e+"&canvas="+encodeURIComponent(n)+"&xywh="+o+"&xywh_highlight=border"},getUtaUrl:function(){var t=this.source.member.split("#xywh="),e=t[0],r=t[1],n=e.split("/canvas/p")[1];return"https://iiif.dl.itc.u-tokyo.ac.jp/repo/s/tanaka/document/"+e.split("/iiif/")[1].split("/canvas/")[0]+"#?c=0&m=0&s=0&cv="+(Number(n)-1)+"&xywh="+r},good:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,h,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!t.isOwn,e.next=3,l.a.firestore().collection("items").doc(t.id).get();case 3:if(n=e.sent,o=n.ref,n.exists){e.next=8;break}return e.next=8,o.set({id:t.id,createTime:d.serverTimestamp(),updateTime:d.serverTimestamp()});case 8:return c=f.batch(),e.next=11,l.a.firestore().collection("users").doc(t.userUid).get();case 11:if(h=e.sent,v=h.ref,h.exists){e.next=16;break}return e.next=16,v.set({id:t.userUid,createTime:d.serverTimestamp(),updateTime:d.serverTimestamp()});case 16:return r?(c.update(f.doc(o.path),{updateTime:d.serverTimestamp(),likedUsers:l.a.firestore.FieldValue.arrayUnion(v.id)}),c.set(f.doc(v.path).collection("likedItems").doc(o.id),{id:o.id,itemRef:o,createTime:d.serverTimestamp(),title:t.source._label[0],thumbnail:t.source._thumbnail[0]}),c.update(v,{likeItemCount:d.increment(1)})):(c.update(f.doc(o.path),{updateTime:d.serverTimestamp(),likedUsers:l.a.firestore.FieldValue.arrayRemove(v.id)}),c.delete(f.doc(v.path).collection("likedItems").doc(o.id)),c.update(v,{likeItemCount:d.increment(-1)})),e.next=19,c.commit();case 19:case"end":return e.stop()}}),e)})))()}},head:function(){var title=this.title;return{title:title,meta:[{hid:"og:title",property:"og:title",content:title},{hid:"og:type",property:"og:type",content:"article"},{hid:"og:url",property:"og:url",content:this.url},{hid:"og:image",property:"og:image",content:this.thumbnail},{hid:"twitter:card",name:"twitter:card",content:"summary_large_image"}]}}},v=r(82),m=r(95),_=r.n(m),y=r(236),x=r(457),k=r(216),w=r(53),O=r(490),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-container",{staticClass:"py-5"},[r("iframe",{attrs:{src:t.getIframeUrl(),width:"100%",height:"400",allowfullscreen:"",frameborder:"0"}})]),t._v(" "),r("v-container",[r("p",{staticClass:"text-center"},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"mx-1",attrs:{icon:"",target:"_blank",href:t.getCurationUrl()}},n),[r("img",{attrs:{src:t.baseUrl+"/img/icons/icp-logo.svg",width:"30px"}})])]}}])},[t._v(" "),r("span",[t._v(t._s("IIIF Curation Viewer"))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"mx-1",attrs:{icon:"",target:"_blank",href:t.getUtaUrl()}},n),[r("img",{attrs:{src:t.baseUrl+"/img/icons/ut.ico",width:"30px"}})])]}}])},[t._v(" "),r("span",[t._v(t._s(t.$t("uta")))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"mx-1",attrs:{icon:"",target:"_blank",href:t.baseUrl+"/snorql/?describe="+t.prefix+"/api/data/"+t.id}},n),[r("img",{attrs:{src:t.baseUrl+"/img/icons/rdf-logo.svg",width:"30px"}})])]}}])},[t._v(" "),r("span",[t._v(t._s("RDF"))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"mx-1",attrs:{icon:"",target:"_blank",href:t.source.sourceData}},n),[r("img",{attrs:{src:t.baseUrl+"/img/icons/json-logo.svg",width:"30px"}})])]}}])},[t._v(" "),r("span",[t._v(t._s("JSON"))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"mx-1",attrs:{icon:"",target:"_blank",href:"https://twitter.com/intent/tweet?url="+t.url}},n),[r("v-icon",[t._v("mdi-twitter")])],1)]}}])},[t._v(" "),r("span",[t._v(t._s("Twitter"))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"mx-1",attrs:{icon:"",target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+t.url}},n),[r("v-icon",[t._v("mdi-facebook")])],1)]}}])},[t._v(" "),r("span",[t._v(t._s("Facebook"))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"mx-1",attrs:{icon:"",target:"_blank",href:"http://getpocket.com/edit?url="+t.url}},n),[r("img",{staticStyle:{"font-size":"30px"},attrs:{src:"https://cultural.jp/img/icons/pocket.svg"}})])]}}])},[t._v(" "),r("span",[t._v(t._s("Pocket"))])]),t._v(" "),t.isSignedIn?[r("v-btn",{attrs:{icon:"",color:t.isOwn?"pink":""},on:{click:function(e){return t.good(t.id,!t.isOwn)}}},[r("v-icon",{staticClass:"mx-1"},[t._v(t._s(t.isOwn?"mdi-heart":"mdi-heart-outline"))]),t._v(t._s(t.userUids.length>0?t.userUids.length:"")+"\n        ")],1)]:[r("v-icon",{staticClass:"mx-1"},[t._v("mdi-heart-outline")]),t._v(t._s(t.userUids.length>0?t.userUids.length:"")+"\n      ")]],2)]),t._v(" "),r("v-sheet",{staticClass:"grey lighten-3 py-5 px-3 py-3 mt-4 mb-5",staticStyle:{"background-color":"#f9f6f0","word-break":"break-word"}},[r("v-container",[r("dl",{staticClass:"row"},[r("dt",{staticClass:"col-sm-3 text-muted"},[r("b",[t._v("URL")])]),t._v(" "),r("dd",{staticClass:"col-sm-9"},[r("a",{attrs:{href:t.url}},[t._v(t._s(t.url))])])]),t._v(" "),r("dl",{staticClass:"row"},[r("dt",{staticClass:"col-sm-3 text-muted"},[r("b",[t._v(t._s(t.$t("label")))])]),t._v(" "),r("dd",{staticClass:"col-sm-9"},[t._v("\n          "+t._s(t.$utils.formatArrayValue(t.title))+"\n        ")])]),t._v(" "),t.source.tags.length>0?r("dl",{staticClass:"row"},[r("dt",{staticClass:"col-sm-3 text-muted"},[r("b",[t._v(t._s(t.$t("text")))])]),t._v(" "),r("dd",{staticClass:"col-sm-9"},t._l(t.source.tags,(function(e,n){return r("span",{key:n,staticClass:"mr-2"},[t._v(t._s(e))])})),0)]):t._e(),t._v(" "),t.source.type.length>0?r("dl",{staticClass:"row"},[r("dt",{staticClass:"col-sm-3 text-muted"},[r("b",[t._v(t._s(t.$t("タイプ")))])]),t._v(" "),r("dd",{staticClass:"col-sm-9"},t._l(t.source.type,(function(e,n){return r("nuxt-link",{key:n,staticClass:"mr-2",attrs:{to:t.localePath({name:"search",query:{"fc-type":e}})}},[t._v(t._s(e))])})),1)]):t._e(),t._v(" "),t.source.agentials.length>0?r("dl",{staticClass:"row"},[r("dt",{staticClass:"col-sm-3 text-muted"},[r("b",[t._v(t._s(t.$t("人物")))])]),t._v(" "),r("dd",{staticClass:"col-sm-9"},t._l(t.source.agentials,(function(e,n){return r("nuxt-link",{key:n,staticClass:"mr-2",attrs:{to:t.localePath({name:"search",query:{"fc-agentials":e}})}},[t._v(t._s(e))])})),1)]):t._e(),t._v(" "),t.source.keywords.length>0?r("dl",{staticClass:"row"},[r("dt",{staticClass:"col-sm-3 text-muted"},[r("b",[t._v(t._s(t.$t("タグ")))])]),t._v(" "),r("dd",{staticClass:"col-sm-9"},t._l(t.source.keywords,(function(e,n){return r("nuxt-link",{key:n,staticClass:"mr-2",attrs:{to:t.localePath({name:"search",query:{"fc-keywords":e}})}},[t._v(t._s(e))])})),1)]):t._e(),t._v(" "),t.source.places.length>0?r("dl",{staticClass:"row"},[r("dt",{staticClass:"col-sm-3 text-muted"},[r("b",[t._v(t._s(t.$t("場所")))])]),t._v(" "),r("dd",{staticClass:"col-sm-9"},t._l(t.source.places,(function(e,n){return r("nuxt-link",{key:n,staticClass:"mr-2",attrs:{to:t.localePath({name:"search",query:{"fc-places":e}})}},[t._v(t._s(e))])})),1)]):t._e(),t._v(" "),t.source.times.length>0?r("dl",{staticClass:"row"},[r("dt",{staticClass:"col-sm-3 text-muted"},[r("b",[t._v(t._s(t.$t("時間")))])]),t._v(" "),r("dd",{staticClass:"col-sm-9"},t._l(t.source.times,(function(e,n){return r("nuxt-link",{key:n,staticClass:"mr-2",attrs:{to:t.localePath({name:"search",query:{"fc-times":e}})}},[t._v(t._s(e))])})),1)]):t._e(),t._v(" "),t.source.orgs.length>0?r("dl",{staticClass:"row"},[r("dt",{staticClass:"col-sm-3 text-muted"},[r("b",[t._v(t._s(t.$t("組織")))])]),t._v(" "),r("dd",{staticClass:"col-sm-9"},t._l(t.source.orgs,(function(e,n){return r("nuxt-link",{key:n,staticClass:"mr-2",attrs:{to:t.localePath({name:"search",query:{"fc-orgs":e}})}},[t._v(t._s(e))])})),1)]):t._e(),t._v(" "),t.source.events.length>0?r("dl",{staticClass:"row"},[r("dt",{staticClass:"col-sm-3 text-muted"},[r("b",[t._v(t._s(t.$t("出来事")))])]),t._v(" "),r("dd",{staticClass:"col-sm-9"},t._l(t.source.events,(function(e,n){return r("nuxt-link",{key:n,staticClass:"mr-2",attrs:{to:t.localePath({name:"search",query:{"fc-events":e}})}},[t._v(t._s(e))])})),1)]):t._e(),t._v(" "),t.source.mtags.length>0?r("dl",{staticClass:"row"},[r("dt",{staticClass:"col-sm-3 text-muted"},[r("b",[t._v(t._s(t.$t("機械タグ")))])]),t._v(" "),r("dd",{staticClass:"col-sm-9"},t._l(t.source.mtags,(function(e,n){return r("nuxt-link",{key:n,staticClass:"mr-2",attrs:{to:t.localePath({name:"search",query:{"fc-mtags":e}})}},[t._v(t._s(e))])})),1)]):t._e(),t._v(" "),t.source.label.length>0?r("dl",{staticClass:"row"},[r("dt",{staticClass:"col-sm-3 text-muted"},[r("b",[t._v(t._s(t.$t("帖数")))])]),t._v(" "),r("dd",{staticClass:"col-sm-9"},t._l(t.source.label,(function(e,n){return r("nuxt-link",{key:n,staticClass:"mr-2",attrs:{to:t.localePath({name:"search",query:{"fc-label":e}})}},[t._v(t._s(e))])})),1)]):t._e(),t._v(" "),r("dl",{staticClass:"row"},[r("dt",{staticClass:"col-sm-3 text-muted"},[r("b",[t._v(t._s(t.$t("license")))])]),t._v(" "),r("dd",{staticClass:"col-sm-9"},["ja"==t.$i18n.locale?[r("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[r("img",{staticStyle:{"border-width":"0"},attrs:{alt:"クリエイティブ・コモンズ・ライセンス",src:"https://i.creativecommons.org/l/by/4.0/88x31.png"}})]),r("br"),t._v("この作品は"),r("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[t._v("クリエイティブ・コモンズ 表示 4.0 国際 ライセンス")]),t._v("の下に提供されています。\n          ")]:[r("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[r("img",{staticStyle:{"border-width":"0"},attrs:{alt:"Creative Commons License",src:"https://i.creativecommons.org/l/by/4.0/88x31.png"}})]),r("br"),t._v("This work is licensed under a\n            "),r("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[t._v("Creative Commons Attribution 4.0 International License")]),t._v(".\n          ")]],2)])])],1),t._v(" "),r("v-container",{attrs:{fluid:""}},[r("MoreLikeThis",{staticClass:"mb-5",attrs:{"item-id":t.id,query:t.source.tags}}),t._v(" "),r("SimilarImages",{staticClass:"mb-5",attrs:{"item-id":t.id,query:t.source.images}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;_()(component,{MoreLikeThis:r(546).default,SimilarImages:r(545).default}),_()(component,{VBtn:y.a,VContainer:x.a,VIcon:k.a,VSheet:w.a,VTooltip:O.a})}}]);