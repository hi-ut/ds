(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{476:function(t,e,r){var content=r(477);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("b1bed018",content,!0,{sourceMap:!1})},477:function(t,e,r){(e=r(14)(!1)).push([t.i,".theme--light.v-breadcrumbs .v-breadcrumbs__divider,.theme--light.v-breadcrumbs .v-breadcrumbs__item--disabled{color:rgba(0,0,0,.38)}.theme--dark.v-breadcrumbs .v-breadcrumbs__divider,.theme--dark.v-breadcrumbs .v-breadcrumbs__item--disabled{color:hsla(0,0%,100%,.5)}.v-breadcrumbs{align-items:center;display:flex;flex-wrap:wrap;flex:0 1 auto;list-style-type:none;margin:0;padding:18px 12px}.v-breadcrumbs li{align-items:center;display:inline-flex;font-size:14px}.v-breadcrumbs li .v-icon{font-size:16px}.v-breadcrumbs li:nth-child(2n){padding:0 12px}.v-breadcrumbs__item{align-items:center;display:inline-flex;text-decoration:none;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-breadcrumbs__item--disabled{pointer-events:none}.v-breadcrumbs--large li,.v-breadcrumbs--large li .v-icon{font-size:16px}",""]),t.exports=e},498:function(t,e,r){"use strict";r(68);var n=r(4),o=(r(476),r(71)),c=r(7);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=Object(c.a)(o.a).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(n.a)({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(t){var e=this.generateRouteLink(),r=e.tag,data=e.data;return t("li",[t(r,d(d({},data),{},{attrs:d(d({},data.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),f=r(2),v=Object(f.h)("v-breadcrumbs__divider","li"),y=r(17);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}e.a=Object(c.a)(y.a).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(v,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var t=[],e=!!this.$scopedSlots.item,r=[],i=0;i<this.items.length;i++){var n=this.items[i];r.push(n.text),e?t.push(this.$scopedSlots.item({item:n})):t.push(this.$createElement(h,{key:r.join("."),props:n},[n.text])),i<this.items.length-1&&t.push(this.genDivider())}return t}},render:function(t){var e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}})},557:function(t,e,r){"use strict";r.r(e);r(229);var n=r(19),o=r(36),c=r(33),l=r(22),d=r(11),h=r(308);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(l.a)(t);if(e){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var v=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},y=function(t){Object(o.a)(r,t);var e=f(r);function r(){var t;return Object(n.a)(this,r),(t=e.apply(this,arguments)).baseUrl="https://hi-ut.github.io/ds",t}return r}(h.Vue);v([Object(h.Prop)({default:4})],y.prototype,"col",void 0),v([Object(h.Prop)({default:[]})],y.prototype,"list",void 0);var m=y=v([h.Component],y),w=r(82),O=r(95),P=r.n(O),j=r(219),_=r(120),x=r(488),R=r(490),k=r(181),E=r(489),C=r(465),I=r(504),component=Object(w.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",t._l(t.list,(function(e,n){return r("v-col",{key:n,attrs:{cols:"12",sm:12/t.col}},[r("v-card",{staticClass:"mb-4",attrs:{"no-body":""}},[r("nuxt-link",{attrs:{to:t.localePath(e.path)}},[r("v-img",{staticClass:"grey lighten-2",staticStyle:{height:"150px"},attrs:{src:e.image,contain:"",width:"100%"}})],1),t._v(" "),r("div",{staticClass:"pa-4"},[r("nuxt-link",{attrs:{to:t.localePath(e.path)}},[r("b",[t._v(t._s(e.label))])]),t._v(" "),e.description?r("p",{staticClass:"mt-2 mb-0"},[t._v(t._s(e.description))]):t._e()],1),t._v(" "),e.url?[r("v-divider"),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on;return[r("a",t._g({attrs:{target:"_blank",href:e.url}},o),[r("img",{attrs:{width:"30px",src:t.baseUrl+"/img/icons/rdf-logo.svg"}})])]}}],null,!0)},[t._v(" "),r("span",[t._v(t._s("RDF"))])])],1)]:t._e()],2)],1)})),1)}),[],!1,null,null,null);e.default=component.exports;P()(component,{VCard:j.a,VCardActions:_.a,VCol:x.a,VDivider:R.a,VImg:k.a,VRow:E.a,VSpacer:C.a,VTooltip:I.a})},573:function(t,e,r){"use strict";r.r(e);r(24),r(16),r(229),r(30),r(234),r(186),r(47),r(62),r(50);var n=r(13),o=r(19),c=r(32),l=r(36),d=r(33),h=r(22),f=r(11),v=r(105),y=r(79),m=r.n(y);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var O=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},P=function(t){Object(l.a)(h,t);var e,r,d=w(h);function h(){var t;return Object(o.a)(this,h),(t=d.apply(this,arguments)).endpoint="https://diyhistory.org/c.php/http://3.212.248.73:8890/sparql",t.settings={agential:{type:"type:Agent",query:"fc-agentials",label:"人物"},place:{type:"type:Place",query:"fc-places",label:"場所"},about:{type:"type:Keyword",query:"fc-about",label:"キーワード"}},t.loadingFlag=!0,t.results=[],t.label="",t.people=[],t.total=0,t.perPage=20,t.currentPage=1,t.id="",t.keywordStr="",t}return Object(c.a)(h,[{key:"watchTmp",value:function(){this.search()}},{key:"mounted",value:function(){this.search()}},{key:"getTotal",value:(r=Object(n.a)(regeneratorRuntime.mark((function t(){var e,r,n,o,c,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.id,r=this.settings[e],n=r.type,o=this.$route.query.keyword||"",c="\n      PREFIX schema: <http://schema.org/>\n      PREFIX type: <https://jpsearch.go.jp/term/type/>\n      PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n      PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n      PREFIX owl: <http://www.w3.org/2002/07/owl#>\n      PREFIX dct: <http://purl.org/dc/terms/>\n      PREFIX hpdb: <https://w3id.org/hpdb/api/>\n      PREFIX sh: <http://www.w3.org/ns/shacl#>\n      SELECT DISTINCT (count(DISTINCT ?s) as ?c) WHERE {\n        ?s rdf:type ".concat(n," . \n        ").concat(""!==o?"?s rdfs:label ?label . filter regex(?label, '"+o+"', 'i')":"","\n      }\n    "),console.log(c),l=(l=this.endpoint+"?query=")+encodeURIComponent(c)+"&output=json",t.next=10,m.a.get(l);case 10:return d=t.sent,t.abrupt("return",d.data.results.bindings[0].c.value);case 12:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"search",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(){var e,r,n,o,c,l,d,h,f=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$route.params.id,this.id=e,t.next=4,this.getTotal();case 4:r=t.sent,this.total=r,this.loadingFlag=!0,n=this.settings[e],o=n.type,c=Number(this.$route.query.from)||0,this.currentPage=c/this.perPage+1,l=this.$route.query.keyword||"",d="\n      PREFIX schema: <http://schema.org/>\n      PREFIX type: <https://jpsearch.go.jp/term/type/>\n      PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n      PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n      PREFIX owl: <http://www.w3.org/2002/07/owl#>\n      PREFIX dct: <http://purl.org/dc/terms/>\n      PREFIX hpdb: <https://w3id.org/hpdb/api/>\n      PREFIX sh: <http://www.w3.org/ns/shacl#>\n      SELECT DISTINCT * WHERE {\n        ?s rdfs:label ?label;  rdf:type ".concat(o," . \n        ").concat(""!==l?"filter regex(?label, '"+l+"', 'i')":"","\n            optional { ?s schema:image ?image } \n      }\n      ORDER BY desc(?image)\n      LIMIT ").concat(this.perPage,"\n      OFFSET ").concat(c,"\n    "),h=(h=this.endpoint+"?query=")+encodeURIComponent(d)+"&output=json",m.a.get(h).then((function(t){for(var r=t.data.results.bindings,n=[],i=0;i<r.length;i++){var o=r[i],c=e;"dev_MAIN[refinementList][".concat(c,"][0]"),o.label.value;var l={label:o.label.value,path:{name:"entity-entity-id",params:{entity:c,id:o.label.value}}};o.image?l.image=o.image.value:l.image="https://hi-ut.github.io/ds/img/icons/no-image.png";var d="https://hi-ut.github.io/ds/snorql/?describe="+o.s.value;l.url=d,n.push(l)}f.people=n,f.loadingFlag=!1}));case 16:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"head",value:function(){return{title:this.$t("category")+" : "+this.$t(this.title),meta:[{hid:"description",name:"description",content:this.$t("search_by_category")}]}}},{key:"setCurrentPage",value:function(t){var e=(t-1)*this.perPage,r=Object.assign({},this.$route.query);r.from=e,this.$router.push(this.localePath({name:"entity-id",params:{id:this.id},query:r}),(function(){}),(function(){}))}},{key:"trigger",value:function(t){13===t.keyCode&&this.updateQuery()}},{key:"updateQuery",value:function(){var t,e=Object.assign({},this.$route.query),r=this.keywordStr;r||(r=""),t=r.startsWith('"')&&r.endsWith('"')?[r]:r.split(" "),e.keyword=t,delete e.from,this.$router.push(this.localePath({name:"entity-id",params:{id:this.id},query:e}),(function(){}),(function(){}))}},{key:"paginationLength",get:function(){return Math.ceil(this.total/this.perPage)}},{key:"title",get:function(){return this.settings[this.$route.params.id].label}},{key:"bh",get:function(){return[{text:this.$t("top"),disabled:!1,to:this.localePath({name:"index"}),exact:!0},{text:this.$t("entity"),disabled:!1,to:this.localePath({name:"entity"}),exact:!0},{text:this.title}]}}]),h}(v.Vue);O([Object(v.Watch)("$route",{deep:!0})],P.prototype,"watchTmp",null);var j=P=O([Object(v.Component)({})],P),_=r(82),x=r(95),R=r.n(x),k=r(498),E=r(488),C=r(460),I=r(216),S=r(566),F=r(217),$=r(489),D=r(53),X=r(451),component=Object(_.a)(j,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-sheet",{attrs:{color:"grey lighten-2"}},[r("v-container",{staticClass:"py-4",attrs:{fluid:""}},[r("v-breadcrumbs",{staticClass:"py-0",attrs:{items:t.bh},scopedSlots:t._u([{key:"divider",fn:function(){return[r("v-icon",[t._v("mdi-chevron-right")])]},proxy:!0}])})],1)],1),t._v(" "),r("v-container",[r("h2",{staticClass:"my-5"},[t._v("\n      "+t._s(t.title)+" "),r("small",[t._v("（"+t._s(t.total.toLocaleString())+"）")])]),t._v(" "),t.loadingFlag?[r("div",{staticClass:"text-center my-10"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)]:[r("v-row",{staticClass:"mt-5",attrs:{align:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{staticClass:"px-4",attrs:{"single-line":"","background-color":"grey lighten-3",filled:"",rounded:"",dense:"","hide-details":"",label:t.$t("add_a_search_term"),"append-icon":"mdi-magnify",clearable:"","clear-icon":"mdi-close-circle"},on:{"click:append":function(e){return t.updateQuery()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.trigger(e)}},model:{value:t.keywordStr,callback:function(e){t.keywordStr=e},expression:"keywordStr"}})],1)],1),t._v(" "),r("div",{staticClass:"text-center my-10"},[r("v-pagination",{attrs:{length:t.paginationLength,"total-visible":7},on:{input:t.setCurrentPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),t._v(" "),r("grid",{attrs:{col:4,list:t.people}}),t._v(" "),r("div",{staticClass:"text-center my-10"},[r("v-pagination",{attrs:{length:t.paginationLength,"total-visible":7},on:{input:t.setCurrentPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]],2)],1)}),[],!1,null,null,null);e.default=component.exports;R()(component,{Grid:r(557).default}),R()(component,{VBreadcrumbs:k.a,VCol:E.a,VContainer:C.a,VIcon:I.a,VPagination:S.a,VProgressCircular:F.a,VRow:$.a,VSheet:D.a,VTextField:X.a})}}]);